<?xml version="1.0" ?>
<components arch="linux-x86_64">
	<autosave.Autosave iocName="BL03I-MO-IOC-06" name="BL03I-MO-IOC-06.AUTOSAVE" path="/dls_sw/i03/epics/autosave"/>
	<devIocStats.devIocStatsHelper ioc="BL03I-MO-IOC-06" name="MO6"/>
	<pvlogging.PvLogging name="MO6_PVLOG"/>
	<EPICS_BASE.EpicsEnvSet key="IOCSH_PS1" name="prompt" value="BL03I-MO-IOC-06 -&gt;"/>
	<EPICS_BASE.EpicsEnvSet key="EPICS_CA_MAX_ARRAY_BYTES" name="maxArrayBytes" value="6000000"/>
	<smargon.smargon IP_ADDRESS="172.23.103.173" P="BL03I-MO-SGON-01" PPMAC_NO="1" PPMAC_PORT="PPMAC1" SSH_PORT="SSHP" name="SGON1"/>
	<pmac.pmacAsynIPPort IP="172.23.103.171:1025" name="BRICK5port"/>
	<pmac.GeoBrick IdlePoll="1000" NAXES="8" P="BL03I-MO-STEP-05" Port="BRICK5port" name="BRICK5"/>
	<!--<pmac.dls_pmac_asyn_motor/>-->
	<!--<pmac.dls_pmac_asyn_motor/>-->
	<pmac.dls_pmac_asyn_motor ACCL="0.1" ADDR="1" DESC="Gonio Positioner X" DHLM="150" DLLM="-50" EGU="mm" M=":X" MRES="0.00005" P="BL03I-MO-GONIO-01" PORT="BRICK5" PREC="5" SPORT="BRICK5port" TWV="1" VELO="12" name="GONP.X"/>
	<pmac.dls_pmac_asyn_motor ACCL="0.1" ADDR="2" DESC="Gonio Positioner Y" DHLM="12" DLLM="-10" EGU="mm" M=":Y" MRES="0.00005" P="BL03I-MO-GONIO-01" PORT="BRICK5" PREC="5" SPORT="BRICK5port" TWV="1" VELO="9" name="GONP.Y"/>
	<pmac.dls_pmac_asyn_motor ACCL="0.1" ADDR="3" DESC="Gonio Positioner Z" DHLM="25" DLLM="-25" EGU="mm" M=":Z" MRES="0.00005" P="BL03I-MO-GONIO-01" PORT="BRICK5" PREC="5" SPORT="BRICK5port" TWV="1" VELO="12" name="GONP.Z"/>
	<pmac.dls_pmac_asyn_motor ACCL="0.1" ADDR="7" DESC="Gonio Omega" EGU="deg" M=":OMEGA" MRES="0.000015203" P="BL03I-MO-GONIO-01" PORT="BRICK5" PREC="5" SPORT="BRICK5port" TWV="1" VELO="45" name="GONIO.OMEGA"/>
	<pmac.dls_pmac_asyn_motor ACCL="0.2" ADDR="5" DESC="Plate Centering Y" DHLM="66.15" DLLM="-33.85" EGU="mm" M=":PLATEY" MRES="0.0001" OFF="-16.15" P="BL03I-MO-GONIO-01" PORT="BRICK5" PREC="5" SPORT="BRICK5port" TWV="1" VELO="5" name="GONIO.PLATEY"/>
	<pmac.dls_pmac_asyn_motor ACCL="0.2" ADDR="6" DESC="Plate Centering Z" DHLM="12.5" DLLM="-12.5" EGU="mm" M=":PLATEZ" MRES="0.0001" OFF="-0.5" P="BL03I-MO-GONIO-01" PORT="BRICK5" PREC="5" SPORT="BRICK5port" TWV="1" VELO="5" name="GONIO.PLATEZ"/>
    <records.mbbi DTYP="asynInt32" FRST="Homing 4" FRVL="4" FVST="Homing 5 " FVVL="5" INP="@asyn(PPMAC1,0,1)PMAC_VIM_P10" ONST="Homing 1" ONVL="1" SCAN="I/O Intr" SXST="Homed" SXVL="6" THST="Homing 3" THVL="3" TWST="Homing 2" TWVL="2" ZRST="Not Homed" ZRVL="0" record="BL03I-MO-SGON-01:HOMESTATUS"/>
	<!--<records.mbbi DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIM_R3" ONST="Failed" ONVL="1" SCAN="I/O Intr" ZRST="OK" ZRVL="0" record="BL03I-MO-SGON-01:SETOFFSETRESULT"/>-->
	<records.mbbi DTYP="asynInt32" INP="@asyn(BRICK5,0,1)PMAC_VIF_P904" ONST="Plate Y" ONVL="1" SCAN="I/O Intr" ZRST="Gonio Y" ZRVL="0" record="BL03I-MO-GONIO-01:FGS:Y_SCAN_AXIS_RBV"/>
	<records.mbbo DTYP="asynInt32" ONST="Plate Y" ONVL="1" OUT="@asyn(BRICK5,0,1)PMAC_WI_P905" ZRST="Gonio Y" ZRVL="0" record="BL03I-MO-GONIO-01:FGS:Y_SCAN_AXIS"/>
	<records.stringout DTYP="asynOctetWrite" OUT="@asyn(PPMAC1,0,1)PMAC_C_WRITE_CMD" SCAN="Passive" VAL="enable plc 3" name="cmdHome" record="BL03I-MO-SGON-01:DOHOME"/>
	<!--<records.stringout DTYP="asynOctetWrite" OUT="@asyn(PPMAC1,0,1)PMAC_C_WRITE_CMD" SCAN="Passive" VAL="&amp;1b11r" name="cmdRunSmarGonScan" record="BL03I-MO-SGON-01:FGS:START"/>-->
	<!--<records.stringout DTYP="asynOctetWrite" OUT="@asyn(BRICK5,0,1)PMAC_C_WRITE_CMD" SCAN="Passive" VAL="&amp;3b11r" name="cmdRunGonioScan" record="BL03I-MO-GONIO-01:FGS:START"/>-->
	<records.stringout DTYP="asynOctetWrite" OUT="@asyn(PPMAC1,0,1)PMAC_C_WRITE_CMD" SCAN="Passive" VAL="&amp;1a P8001=0 Q77=Q87 Q78=Q88 Q79=Q89" name="cmdStopScan" record="BL03I-MO-SGON-01:FGS:STOP"/>
	<records.stringout DTYP="asynOctetWrite" OUT="@asyn(BRICK5,0,1)PMAC_C_WRITE_CMD" SCAN="Passive" VAL="&amp;3a P1101=0" name="cmdStopGonioScan" record="BL03I-MO-GONIO-01:FGS:STOP"/>
	<records.waveform DTYP="asynOctetWrite" FTVL="CHAR" INP="@asyn(PPMAC1,0,1)PMAC_C_WRITE_CMD" NELM="100" SCAN="Passive" name="cmdSetOffset" record="BL03I-MO-SGON-01:SETSTUBOFFSETS"/>
	<records.waveform DTYP="asynOctetWrite" FTVL="CHAR" INP="@asyn(PPMAC1,0,1)PMAC_C_WRITE_CMD" NELM="100" SCAN="Passive" name="cmdStartSmarGonScan" record="BL03I-MO-SGON-01:FGS:RUN"/>
	<records.waveform DTYP="asynOctetWrite" FTVL="CHAR" INP="@asyn(BRICK5,0,1)PMAC_C_WRITE_CMD" NELM="100" SCAN="Passive" name="cmdStartGonioScan" record="BL03I-MO-GONIO-01:FGS:RUN"/>
	<records.ao DTYP="asynInt32" ESLO=".001" LINR="SLOPE" OUT="@asyn(PPMAC1,0,1)PMAC_VIM_&amp;1Q90" PREC="3" SCAN="Passive" record="BL03I-MO-SGON-01:X_BL_OFFSET"/>
	<records.ao DTYP="asynInt32" ESLO=".001" LINR="SLOPE" OUT="@asyn(PPMAC1,0,1)PMAC_VIM_&amp;1Q91" PREC="3" SCAN="Passive" record="BL03I-MO-SGON-01:Y_BL_OFFSET"/>
	<records.ao DTYP="asynInt32" ESLO=".001" LINR="SLOPE" OUT="@asyn(PPMAC1,0,1)PMAC_VIM_&amp;1Q92" PREC="3" SCAN="Passive" record="BL03I-MO-SGON-01:Z_BL_OFFSET"/>
	<records.ao DTYP="asynInt32" ESLO=".001" LINR="SLOPE" OUT="@asyn(PPMAC1,0,1)PMAC_VIM_P21" PREC="3" SCAN="Passive" record="BL03I-MO-SGON-01:X_STUB_OFFSET"/>
	<records.ao DTYP="asynInt32" ESLO=".001" LINR="SLOPE" OUT="@asyn(PPMAC1,0,1)PMAC_VIM_P22" PREC="3" SCAN="Passive" record="BL03I-MO-SGON-01:Y_STUB_OFFSET"/>
	<records.ao DTYP="asynInt32" ESLO=".001" LINR="SLOPE" OUT="@asyn(PPMAC1,0,1)PMAC_VIM_P23" PREC="3" SCAN="Passive" record="BL03I-MO-SGON-01:Z_STUB_OFFSET"/>
	<records.ao DTYP="asynInt32" OUT="@asyn(PPMAC1,0,1)PMAC_WI_P1106" PREC="5" SCAN="Passive" record="BL03I-MO-SGON-01:SGON_NOT_MOUNTED"/>
	<!--Fast Grid Scan Variables-->
	<!--<records.ao record="SmarGon Fast Grid Scan Parameters"/>-->
	<records.ao DTYP="asynInt32" ESLO="0.001" LINR="SLOPE" OUT="@asyn(PPMAC1,0,1)PMAC_WI_P8013" PREC="5" SCAN="Passive" record="BL03I-MO-SGON-01:FGS:X_STEP_SIZE"/>
	<records.ao DTYP="asynInt32" ESLO="0.001" LINR="SLOPE" OUT="@asyn(PPMAC1,0,1)PMAC_WI_P8014" PREC="5" SCAN="Passive" record="BL03I-MO-SGON-01:FGS:Y_STEP_SIZE"/>
	<records.ao DTYP="asynInt32" OUT="@asyn(PPMAC1,0,1)PMAC_WI_P8015" PREC="5" SCAN="Passive" record="BL03I-MO-SGON-01:FGS:DWELL_TIME"/>
	<records.ao DTYP="asynInt32" ESLO="0.001" LINR="SLOPE" OUT="@asyn(PPMAC1,0,1)PMAC_WI_P8016" PREC="5" SCAN="Passive" record="BL03I-MO-SGON-01:FGS:X_START"/>
	<records.ao DTYP="asynInt32" ESLO="0.001" LINR="SLOPE" OUT="@asyn(PPMAC1,0,1)PMAC_WI_P8017" PREC="5" SCAN="Passive" record="BL03I-MO-SGON-01:FGS:Y_START"/>
	<records.ao DTYP="asynInt32" ESLO="0.001" LINR="SLOPE" OUT="@asyn(PPMAC1,0,1)PMAC_WI_P8018" PREC="5" SCAN="Passive" record="BL03I-MO-SGON-01:FGS:Z_START"/>
	<!--<records.ao record="Gonio Fast Grid Scan Parameters"/>-->
	<records.ao DTYP="asynFloat64" OUT="@asyn(BRICK5,0,1)PMAC_WD_P1113" PREC="5" SCAN="Passive" record="BL03I-MO-GONIO-01:FGS:X_STEP_SIZE"/>
	<records.ao DTYP="asynFloat64" OUT="@asyn(BRICK5,0,1)PMAC_WD_P1114" PREC="5" SCAN="Passive" record="BL03I-MO-GONIO-01:FGS:Y_STEP_SIZE"/>
	<records.ao DTYP="asynInt32" OUT="@asyn(BRICK5,0,1)PMAC_WI_P1115" PREC="5" SCAN="Passive" record="BL03I-MO-GONIO-01:FGS:DWELL_TIME"/>
	<records.ao DTYP="asynFloat64" OUT="@asyn(BRICK5,0,1)PMAC_WD_P1116" PREC="5" SCAN="Passive" record="BL03I-MO-GONIO-01:FGS:X_START"/>
	<records.ao DTYP="asynFloat64" OUT="@asyn(BRICK5,0,1)PMAC_WD_P1117" PREC="5" SCAN="Passive" record="BL03I-MO-GONIO-01:FGS:Y_START"/>
	<records.ao DTYP="asynFloat64" OUT="@asyn(BRICK5,0,1)PMAC_WD_P1118" PREC="5" SCAN="Passive" record="BL03I-MO-GONIO-01:FGS:Z_START"/>
	<records.ao DTYP="asynInt32" OUT="@asyn(BRICK5,0,1)PMAC_WI_P805" PREC="5" SCAN="Passive" record="BL03I-MO-GONIO-01:FGS:SCAN_PLATE_Y"/>
	<records.ao DTYP="asynInt32" OUT="@asyn(PPMAC1,0,1)PMAC_WI_P240" PREC="5" SCAN="Passive" record="BL03I-MO-SGON-01:CLEAR_TO_HOME_WRITE"/>
	<records.ao DTYP="asynInt32" OUT="@asyn(BRICK5,0,1)PMAC_WI_P806" PREC="5" SCAN="Passive" record="BL03I-MO-GONIO-01:OLD_GONIO_DETECT_WRITE"/>
	<!--Fast Grid Scan Variables-->
	<!--<records.longout record="SmarGon Fast Grid Scan Parameters"/>-->
	<records.longout DTYP="asynInt32" OUT="@asyn(PPMAC1,0,1)PMAC_WI_P8011" SCAN="Passive" record="BL03I-MO-SGON-01:FGS:X_NUM_STEPS"/>
	<records.longout DTYP="asynInt32" OUT="@asyn(PPMAC1,0,1)PMAC_WI_P8012" SCAN="Passive" record="BL03I-MO-SGON-01:FGS:Y_NUM_STEPS"/>
	<records.longout DTYP="asynInt32" OUT="@asyn(PPMAC1,0,1)PMAC_WI_P8002" SCAN="Passive" record="BL03I-MO-SGON-01:FGS:POS_COUNTER_WRITE"/>
	<!--<records.longout record="Gonio Fast Grid Scan Parameters"/>-->
	<records.longout DTYP="asynInt32" OUT="@asyn(BRICK5,0,1)PMAC_WI_P1111" SCAN="Passive" record="BL03I-MO-GONIO-01:FGS:X_NUM_STEPS"/>
	<records.longout DTYP="asynInt32" OUT="@asyn(BRICK5,0,1)PMAC_WI_P1112" SCAN="Passive" record="BL03I-MO-GONIO-01:FGS:Y_NUM_STEPS"/>
	<records.longout DTYP="asynInt32" OUT="@asyn(BRICK5,0,1)PMAC_WI_P1102" SCAN="Passive" record="BL03I-MO-GONIO-01:FGS:POS_COUNTER_WRITE"/>
	<records.ai DTYP="asynInt32" EGU="mm" ESLO=".001" INP="@asyn(PPMAC1,0,1)PMAC_VIM_&amp;1Q90" LINR="SLOPE" PREC="3" SCAN="I/O Intr" record="BL03I-MO-SGON-01:X_BL_OFFSET_RBV"/>
	<records.ai DTYP="asynInt32" EGU="mm" ESLO=".001" INP="@asyn(PPMAC1,0,1)PMAC_VIM_&amp;1Q91" LINR="SLOPE" PREC="3" SCAN="I/O Intr" record="BL03I-MO-SGON-01:Y_BL_OFFSET_RBV"/>
	<records.ai DTYP="asynInt32" EGU="mm" ESLO=".001" INP="@asyn(PPMAC1,0,1)PMAC_VIM_&amp;1Q92" LINR="SLOPE" PREC="3" SCAN="I/O Intr" record="BL03I-MO-SGON-01:Z_BL_OFFSET_RBV"/>
	<records.ai DTYP="asynInt32" EGU="mm" ESLO=".001" INP="@asyn(PPMAC1,0,1)PMAC_VIM_P21" LINR="SLOPE" PREC="3" SCAN="I/O Intr" record="BL03I-MO-SGON-01:X_STUB_OFFSET_RBV"/>
	<records.ai DTYP="asynInt32" EGU="mm" ESLO=".001" INP="@asyn(PPMAC1,0,1)PMAC_VIM_P22" LINR="SLOPE" PREC="3" SCAN="I/O Intr" record="BL03I-MO-SGON-01:Y_STUB_OFFSET_RBV"/>
	<records.ai DTYP="asynInt32" EGU="mm" ESLO=".001" INP="@asyn(PPMAC1,0,1)PMAC_VIM_P23" LINR="SLOPE" PREC="3" SCAN="I/O Intr" record="BL03I-MO-SGON-01:Z_STUB_OFFSET_RBV"/>
	<records.ai DTYP="asynInt32" EGU="mm" ESLO=".001" INP="@asyn(PPMAC1,0,1)PMAC_VIM_P1240" LINR="SLOPE" PREC="3" SCAN="1 second" record="BL03I-MO-SGON-01:RL_X_STUB_OFFSET_RBV"/>
	<records.ai DTYP="asynInt32" EGU="mm" ESLO=".001" INP="@asyn(PPMAC1,0,1)PMAC_VIM_P1241" LINR="SLOPE" PREC="3" SCAN="1 second" record="BL03I-MO-SGON-01:RL_Y_STUB_OFFSET_RBV"/>
	<records.ai DTYP="asynInt32" EGU="mm" ESLO=".001" INP="@asyn(PPMAC1,0,1)PMAC_VIM_P1242" LINR="SLOPE" PREC="3" SCAN="1 second" record="BL03I-MO-SGON-01:RL_Z_STUB_OFFSET_RBV"/>
	<records.ai EGU="mm" ESLO=".001" LINR="SLOPE" PREC="3" SCAN="Passive" record="BL03I-MO-SGON-01:X_STUB_OFFSET_STORE"/>
	<records.ai EGU="mm" ESLO=".001" LINR="SLOPE" PREC="3" SCAN="Passive" record="BL03I-MO-SGON-01:Y_STUB_OFFSET_STORE"/>
	<records.ai EGU="mm" ESLO=".001" LINR="SLOPE" PREC="3" SCAN="Passive" record="BL03I-MO-SGON-01:Z_STUB_OFFSET_STORE"/>
	<records.ai SCAN="Passive" record="BL03I-MO-SGON-01:HOMED_LATCH"/>
	<!--<records.ai record="SmarGon Fast Grid Scan Parameters"/>-->
	<records.ai DTYP="asynInt32" ESLO=".001" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P8013" LINR="SLOPE" PREC="3" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:X_STEP_SIZE_RBV"/>
	<records.ai DTYP="asynInt32" ESLO=".001" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P8014" LINR="SLOPE" PREC="3" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:Y_STEP_SIZE_RBV"/>
	<records.ai DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P8015" PREC="3" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:DWELL_TIME_RBV"/>
	<records.ai DTYP="asynInt32" ESLO=".001" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P8016" LINR="SLOPE" PREC="3" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:X_START_RBV"/>
	<records.ai DTYP="asynInt32" ESLO=".001" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P8017" LINR="SLOPE" PREC="3" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:Y_START_RBV"/>
	<records.ai DTYP="asynInt32" ESLO=".001" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P8018" LINR="SLOPE" PREC="3" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:Z_START_RBV"/>
	<!--<records.ai record="Gonio Fast Grid Scan Parameters"/>-->
	<records.ai DTYP="asynFloat64" INP="@asyn(BRICK5,0,1)PMAC_VDF_P1113" PREC="3" SCAN="I/O Intr" record="BL03I-MO-GONIO-01:FGS:X_STEP_SIZE_RBV"/>
	<records.ai DTYP="asynFloat64" INP="@asyn(BRICK5,0,1)PMAC_VDF_P1114" PREC="3" SCAN="I/O Intr" record="BL03I-MO-GONIO-01:FGS:Y_STEP_SIZE_RBV"/>
	<records.ai DTYP="asynInt32" INP="@asyn(BRICK5,0,1)PMAC_VIF_P1115" PREC="3" SCAN="I/O Intr" record="BL03I-MO-GONIO-01:FGS:DWELL_TIME_RBV"/>
	<records.ai DTYP="asynFloat64" INP="@asyn(BRICK5,0,1)PMAC_VDF_P1116" PREC="3" SCAN="I/O Intr" record="BL03I-MO-GONIO-01:FGS:X_START_RBV"/>
	<records.ai DTYP="asynFloat64" INP="@asyn(BRICK5,0,1)PMAC_VDF_P1117" PREC="3" SCAN="I/O Intr" record="BL03I-MO-GONIO-01:FGS:Y_START_RBV"/>
	<records.ai DTYP="asynFloat64" INP="@asyn(BRICK5,0,1)PMAC_VDF_P1118" PREC="3" SCAN="I/O Intr" record="BL03I-MO-GONIO-01:FGS:Z_START_RBV"/>
	<!--Fast Grid Scan Variables-->
	<!--<records.longin record="SmarGon Fast Grid Scan Parameters"/>-->
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P8011" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:X_NUM_STEPS_RBV"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P8012" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:Y_NUM_STEPS_RBV"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P8002" SCAN=".1 second" record="BL03I-MO-SGON-01:FGS:POS_COUNTER"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P8019" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:X_COUNTER"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P8020" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:Y_COUNTER"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P8001" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:SCAN_STATUS"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P1311" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:Y_DITHER_COUNTER"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P1301" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:Y_DITHERING"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P1312" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:Z_DITHER_COUNTER"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P1302" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:Z_DITHERING"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P1313" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:X1_DITHER_COUNTER"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P1303" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:X1_DITHERING"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P1314" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:X2_DITHER_COUNTER"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P1304" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:X2_DITHERING"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P1315" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:PHI_DITHER_COUNTER"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P1305" SCAN="I/O Intr" record="BL03I-MO-SGON-01:FGS:PHI_DITHERING"/>
	<!--<records.longin record="Gonio Fast Grid Scan Parameters"/>-->
	<records.longin DTYP="asynInt32" INP="@asyn(BRICK5,0,1)PMAC_VIF_P1111" SCAN="I/O Intr" record="BL03I-MO-GONIO-01:FGS:X_NUM_STEPS_RBV"/>
	<records.longin DTYP="asynInt32" INP="@asyn(BRICK5,0,1)PMAC_VIF_P1112" SCAN="I/O Intr" record="BL03I-MO-GONIO-01:FGS:Y_NUM_STEPS_RBV"/>
	<records.longin DTYP="asynInt32" INP="@asyn(BRICK5,0,1)PMAC_VIF_P1102" SCAN=".1 second" record="BL03I-MO-GONIO-01:FGS:POS_COUNTER"/>
	<records.longin DTYP="asynInt32" INP="@asyn(BRICK5,0,1)PMAC_VIF_P1119" SCAN="I/O Intr" record="BL03I-MO-GONIO-01:FGS:X_COUNTER"/>
	<records.longin DTYP="asynInt32" INP="@asyn(BRICK5,0,1)PMAC_VIF_P1120" SCAN="I/O Intr" record="BL03I-MO-GONIO-01:FGS:Y_COUNTER"/>
	<records.longin DTYP="asynInt32" INP="@asyn(BRICK5,0,1)PMAC_VIF_P1101" SCAN="I/O Intr" record="BL03I-MO-GONIO-01:FGS:SCAN_STATUS"/>
	<!--<records.longin record="Robot Interface Statuses"/>-->
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P1212" SCAN="I/O Intr" record="BL03I-MO-SGON-01:DISABLED"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P1101" SCAN="I/O Intr" record="BL03I-MO-SGON-01:READY"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P1225" SCAN="I/O Intr" record="BL03I-MO-SGON-01:X1:INPOS"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P1226" SCAN="I/O Intr" record="BL03I-MO-SGON-01:X2:INPOS"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P1228" SCAN="I/O Intr" record="BL03I-MO-SGON-01:Y:INPOS"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P1229" SCAN="I/O Intr" record="BL03I-MO-SGON-01:Z:INPOS"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P1227" SCAN="I/O Intr" record="BL03I-MO-SGON-01:OMEGA:INPOS"/>
	<records.longin DTYP="asynInt32" INP="@asyn(PPMAC1,0,1)PMAC_VIF_P1230" SCAN="I/O Intr" record="BL03I-MO-SGON-01:PHI:INPOS"/>
	<records.seq DLY5="0.2" DLY9="2" DOL1="1" DOL2="BL03I-MO-SGON-01:X_STUB_OFFSET_RBV" DOL3="BL03I-MO-SGON-01:Y_STUB_OFFSET_RBV" DOL4="BL03I-MO-SGON-01:Z_STUB_OFFSET_RBV" DOL5="0" DOL6="0" DOL7="0" DOL8="1" DOL9="0" LNK1="BL03I-MO-SGON-01:HOME.DISP" LNK2="BL03I-MO-SGON-01:X_STUB_OFFSET_STORE PP" LNK3="BL03I-MO-SGON-01:Y_STUB_OFFSET_STORE PP" LNK4="BL03I-MO-SGON-01:Z_STUB_OFFSET_STORE PP" LNK5="BL03I-MO-SGON-01:X_STUB_OFFSET PP" LNK6="BL03I-MO-SGON-01:Y_STUB_OFFSET PP" LNK7="BL03I-MO-SGON-01:Z_STUB_OFFSET PP" LNK8="BL03I-MO-SGON-01:DOHOME.PROC PP" LNK9="BL03I-MO-SGON-01:HOMED_LATCH PP" SELM="All" record="BL03I-MO-SGON-01:HOME"/>
	<records.seq DLY1="0.5" DOL1="BL03I-MO-SGON-01:X_STUB_OFFSET_STORE" DOL2="BL03I-MO-SGON-01:Y_STUB_OFFSET_STORE" DOL3="BL03I-MO-SGON-01:Z_STUB_OFFSET_STORE" DOL4="1" DOL5="0" LNK1="BL03I-MO-SGON-01:X_STUB_OFFSET PP" LNK2="BL03I-MO-SGON-01:Y_STUB_OFFSET PP" LNK3="BL03I-MO-SGON-01:Z_STUB_OFFSET PP" LNK4="BL03I-MO-SGON-01:HOMED_LATCH PP" LNK5="BL03I-MO-SGON-01:HOME.DISP" SELM="All" record="BL03I-MO-SGON-01:RESTORE_STUBS"/>
	<records.seq DOL1="BL03I-MO-SGON-01:RL_X_STUB_OFFSET_RBV" DOL2="BL03I-MO-SGON-01:RL_Y_STUB_OFFSET_RBV" DOL3="BL03I-MO-SGON-01:RL_Z_STUB_OFFSET_RBV" LNK1="BL03I-MO-SGON-01:X_STUB_OFFSET PP" LNK2="BL03I-MO-SGON-01:Y_STUB_OFFSET PP" LNK3="BL03I-MO-SGON-01:Z_STUB_OFFSET PP" SELM="All" record="BL03I-MO-SGON-01:SET_STUBS_TO_RL"/>
	<!--<records.seq DLY4="1.0" DLY5="1.0" DLY6="1.0" DLY7="1.0" DOL4="0" DOL5="0" DOL6="0" DOL7="1" LNK4="BL03I-MO-SGON-01:X_STUB_OFFSET PP" LNK5="BL03I-MO-SGON-01:Y_STUB_OFFSET PP" LNK6="BL03I-MO-SGON-01:Z_STUB_OFFSET PP" LNK7="BL03I-MO-SGON-01:DOHOME.PROC PP" SELM="All" record="BL03I-MO-SGON-01:HOME_CLEAR_STUBS"/>-->
	<records.calcout CALC="(A=6)?1:0" DESC="Detect homing completion" INPA="BL03I-MO-SGON-01:HOMESTATUS CP" OOPT="Transition To Non-zero" OUT="BL03I-MO-SGON-01:HOME_FAN PP" record="BL03I-MO-SGON-01:HOME_DETECT"/>
	<records.calcout CALC="A=6?1:0" DESC="Detect if old gonio is installed" INPA="BL03I-MO-GONIO-01:READ_DEVICE_SWITCHES.TINP CP" OOPT="On Change" OUT=" BL03I-MO-GONIO-01:OLD_GONIO_DETECT_WRITE PP" record="BL03I-MO-GONIO-01:OLD_GONIO_DETECT"/>
	<records.calcout CALC="A=4?1:0" DESC="Detect if Plate stages are installed" INPA="BL03I-MO-GONIO-01:READ_DEVICE_SWITCHES.TINP CP" OOPT="On Change" OUT="BL03I-MO-GONIO-01:FGS:SCAN_PLATE_Y PP" record="BL03I-MO-GONIO-01:FGS:PLATE_DETECT"/>
	<records.calcout CALC="A=4?1:0" DESC="Detect if Plate installed for CS config" INPA="BL03I-MO-GONIO-01:READ_DEVICE_SWITCHES.TINP CP" OOPT="On Change" OUT="BL03I-MO-GONIO-01:FGS:Y_SCAN_AXIS PP" record="BL03I-MO-GONIO-01:FGS:PLATE_DETECT_CS_SWAP"/>
	<records.calcout CALC="A=5?0:1" DESC="Detect if smargon is installed" INPA="BL03I-MO-GONIO-01:READ_DEVICE_SWITCHES.TINP CP" OOPT="On Change" OUT="BL03I-MO-SGON-01:SGON_NOT_MOUNTED PP" record="BL03I-MO-SGON-01:INSTALL_DETECT"/>
	<records.calcout CALC="A&amp;&amp;B?1:0" DESC="Inhibit smargon homing" INPA="BL03I-MO-SGON-01:FLU_SAFE CP" INPB="BL03I-MO-SGON-01:CRYO_SAFE CP" OOPT="On Change" OUT="BL03I-MO-SGON-01:CLEAR_TO_HOME_WRITE PP" record="BL03I-MO-SGON-01:CLEAR_TO_HOME"/>
	<records.calcout CALC="(A=6)&amp;&amp;(B=1)&amp;&amp;(C=0)?1:0" DESC="Detect when smargon homing has finished" INPA="BL03I-MO-SGON-01:HOMESTATUS.RVAL CP" INPB="BL03I-MO-SGON-01:CHI.DMOV CP" INPC="BL03I-MO-SGON-01:HOMED_LATCH CP" OOPT="Transition To Non-zero" OUT="BL03I-MO-SGON-01:RESTORE_STUBS.PROC PP" record="BL03I-MO-SGON-01:DETECT_HOMING_COMPLETE"/>
	<records.fanout DESC="Fanout Copy Trigger" LNK1="BL03I-EA-ZEBRA-01:M1:SETPOS.PROC" LNK2="BL03I-EA-ZEBRA-01:M2:SETPOS.PROC" LNK3="BL03I-EA-ZEBRA-01:M3:SETPOS.PROC" LNK4="BL03I-EA-ZEBRA-01:M4:SETPOS.PROC" SELM="All" record="BL03I-MO-SGON-01:HOME_FAN"/>
	<!--<EPICS_BASE.dbpf pv="Populate the start string for the fast grid scans" value="0"/>-->
	<EPICS_BASE.dbpf pv="BL03I-MO-SGON-01:FGS:RUN" value="&amp;1a P8001=0 Q70=0 Q77=Q87 Q78=Q88 Q79=Q89 &amp;1b11r"/>
	<EPICS_BASE.dbpf pv="BL03I-MO-GONIO-01:FGS:RUN" value="&amp;3 P1101=0 Q70=0 &amp;3b11r"/>
	<BL03I.auto_Flu_Det_Protection name="FLU_PROTECT"/>
	<pmac.autohome GRP2="X Translation" GRP3="Y Translation" GRP4="Z Translation" GRP5="Omega" P="BL03I-MO-GONIO-01" PLC="12" PORT="BRICK5" name="GONP"/>
	<pmac.autohome GRP2="Y Translation" GRP3="Z Translation" P="BL03I-MO-GONIO-01:PLATE" PLC="13" PORT="BRICK5" name="PLATE"/>
	<asyn.auto_asynRecord ADDR="0" IMAX="80" OMAX="80" P="BL03I-MO-IOC-06" PORT="BRICK5port" R=":ASYN5"/>
	<records.asyn AOUT="P1101" DESC="Read P1101" FLNK="BL03I-MO-STEP-05:pmac:decode:P1101" PINI="YES" PORT="BRICK5port" SCAN=".2 second" record="BL03I-MO-STEP-05:pmac:read:P1101"/>
	<records.asyn AOUT="P1102" DESC="Read P1101" FLNK="BL03I-MO-STEP-05:pmac:decode:P1102" PINI="YES" PORT="BRICK5port" SCAN=".2 second" record="BL03I-MO-STEP-05:pmac:read:P1102"/>
	<records.asyn DESC="Send command to PLC" PORT="BRICK5port" record="BL03I-MO-GONIO-01:SEND_TO_PLC"/>
	<records.scalcout CALC="SSCANF(AA, '%f')" DESC="Decode readback of P1101" DTYP="Soft Channel" FLNK="BL03I-MO-STEP-05:signal:P1101" INAA="BL03I-MO-STEP-05:pmac:read:P1101.AINP" SCAN="Passive" record="BL03I-MO-STEP-05:pmac:decode:P1101"/>
	<records.scalcout CALC="SSCANF(AA, '%f')" DESC="Decode readback of P1102" DTYP="Soft Channel" FLNK="BL03I-MO-STEP-05:signal:P1102" INAA="BL03I-MO-STEP-05:pmac:read:P1102.AINP" SCAN="Passive" record="BL03I-MO-STEP-05:pmac:decode:P1102"/>
	<records.calc CALC="A" INPA="BL03I-MO-STEP-05:pmac:decode:P1101.AA" record="BL03I-MO-STEP-05:signal:P1101"/>
	<records.calc CALC="A" INPA="BL03I-MO-STEP-05:pmac:decode:P1102.AA" record="BL03I-MO-STEP-05:signal:P1102"/>
	<records.calc CALC="(A=1)&amp;&amp;(B=0)&amp;&amp;(C=0)" INPA="BL03I-MO-STEP-01:GPIO_INP_BITS.BF CP" INPB="BL03I-MO-STEP-01:GPIO_INP_BITS.BE CP" INPC="BL03I-EA-FLU-01:CTRL CP" record="BL03I-MO-SGON-01:FLU_SAFE"/>
	<records.calc CALC="(A=1)&amp;&amp;(B=0)&amp;&amp;(C=0)" INPA="BL03I-MO-STEP-03:GPIO_INP_BITS.B8 CP" INPB="BL03I-MO-STEP-03:GPIO_INP_BITS.B7 CP" INPC="BL03I-EA-CJET-01:COARSE:CTRL CP" record="BL03I-MO-SGON-01:CRYO_SAFE"/>
</components>
