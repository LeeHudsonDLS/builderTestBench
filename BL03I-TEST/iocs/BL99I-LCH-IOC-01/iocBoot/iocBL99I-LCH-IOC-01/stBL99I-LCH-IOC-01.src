# This file was automatically generated on Wed 31 Oct 2018 13:49:07 GMT from
# source: /home/jjc62351/work/Builder/BL03I-TEST/etc/makeIocs/BL99I-LCH-IOC-01.xml
# 
# *** Please do not edit this file: edit the source file instead. ***
# 
cd "$(INSTALL)"
tyBackspaceSet(127)

putenv "EPICS_TS_MIN_WEST=0"


# Loading libraries
# -----------------

# Device initialisation
# ---------------------

cd "$(INSTALL)"
ld < bin/vxWorks-ppc604_long/BL99I-LCH-IOC-01.munch

dbLoadDatabase "dbd/BL99I-LCH-IOC-01.dbd"
BL99I_LCH_IOC_01_registerRecordDeviceDriver(pdbbase)

asSetFilename "/dls_sw/prod/R3.14.12.3/support/pvlogging/1-2/data/access.acf"

drvAsynSerialPortConfigure("ty_80_0", "/ty/80/0", 100, 0, 0)

drvAsynSerialPortConfigure("ty_80_1", "/ty/80/1", 100, 0, 0)

drvAsynSerialPortConfigure("ty_80_2", "/ty/80/2", 100, 0, 0)

drvAsynSerialPortConfigure("ty_80_3", "/ty/80/3", 100, 0, 0)

drvAsynSerialPortConfigure("ty_80_5", "/ty/80/5", 100, 0, 0)

drvAsynSerialPortConfigure("ty_80_6", "/ty/80/6", 100, 0, 0)

drvAsynSerialPortConfigure("ty_80_7", "/ty/80/7", 100, 0, 0)

drvAsynSerialPortConfigure("ty_81_2", "/ty/81/2", 100, 0, 0)

drvAsynSerialPortConfigure("ty_81_4", "/ty/81/4", 100, 0, 0)

drvAsynSerialPortConfigure("L0", "/ty/82/0", 100, 0, 0)

drvAsynSerialPortConfigure("ty_83_2", "/ty/83/2", 100, 0, 0)

drvAsynSerialPortConfigure("ty_83_3", "/ty/83/3", 100, 0, 0)

drvAsynSerialPortConfigure("ty_83_5", "/ty/83/5", 100, 0, 0)

drvAsynSerialPortConfigure("ty_83_6", "/ty/83/6", 100, 0, 0)

# Final ioc initialisation
# ------------------------
cd "$(INSTALL)"
dbLoadRecords "db/BL99I-LCH-IOC-01_expanded.db"
iocInit

# Extra post-init IOC commands
dbpf ("BL22I-MO-SCAM-01:ILK:OVERRIDE","1")
dbpf "BL22I-OP-DCM-01:FPMTR:FBS2:AUTOCALC.OCAL", "(B=1)&&(C=1)&&(D>5)&&(E>3)&&(E<590)"
dbpf "BL22I-OP-KBM-01:HFM:FBS4:AUTOCALC.OCAL", "(B=1)&&(C=1)&&(D>5)&&(E>3)&&(E<590)"
dbpf "BL22I-OP-KBM-01:VFM:FBS4:AUTOCALC.OCAL", "(B=1)&&(C=1)&&(D>5)&&(E>3)&&(E<590)"
dbpf "BL22I-OP-DCM-01:FPMTR:FBS2:AUTOCALC.INPE", "SR-CS-FILL-01:COUNTDOWN CP"
dbpf "BL22I-OP-KBM-01:HFM:FBS4:AUTOCALC.INPE", "SR-CS-FILL-01:COUNTDOWN CP"
dbpf "BL22I-OP-KBM-01:VFM:FBS4:AUTOCALC.INPE", "SR-CS-FILL-01:COUNTDOWN CP"
dbpf("BL22I-OP-KBM-01:HFM:FY3",5)
dbpf("BL22I-OP-KBM-01:VFM:FY3",5)

